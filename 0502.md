
```
年齡 性別
分析 可能喜歡的遊戲

TV PC 手遊

分頭

uwq-iqsa-dtv

https://meet.google.com/uwq-iqsa-dtv
施圳溪

查已安裝

apt 是指令模式的套件管理工具, 要列出所有已安裝的套件:

$ sudo apt list –installed


tiny.cc/3ju5nz

https://www.gnu.org/software/grub/manual/grub/html_node/Simple-configuration.html


http://linux.vbird.org/linux_basic/0510osloader//0510osloader-20150831.php

http://www2.nsysu.edu.tw/csmlab/unix/vi_command.htm

http://www.vixual.net/blog/archives/234

tiny.cc/3ju5nz
https://drive.google.com/drive/folders/1e8sCjN7cvbGDbovyCFArw719aESZoMCL






年齡 性別
分析 可能喜歡的遊戲

TV PC 手遊

分頭

uwq-iqsa-dtv

https://meet.google.com/uwq-iqsa-dtv
施圳溪




解釋分組









簡報六分鐘 一人兩分鐘


pc tv 手遊

我pc

用年齡 性別 找 喜歡的遊戲
-----------------------


-----------------------
運作程序

BIOS 
EFI(apple)

MBR
開機區


GRUB
選單


Kernel

Init

Runlevel


-----------------------


改網卡名稱

文字模式
圖型模式

還源模式



-----------------------
mp3 播放器 快轉
media player
按一下 alt 播放 播放速度
ctrl shift g快 n一般 s慢
-----------------------
第一個 2:14:00

改 root 密碼 (特殊帳號)
S 1-99
K 1-99

啟動時按esc -> 

選第二個 advanced options for Ubuntu

->

選第二個 recovery mode

cp /dev/null 目錄名 
會刪除目錄裡所有資料

/etc

passwd

shadow

fstab


hosts -> myip.com(IP) -> DNS

google DNS
8.8.8.8 DNS1
8.8.4.4 DNS2

which vi 找檔案在那裡

/usr/bin/vi

meet
uwq-iqsa-dtv


cd /etc

pwd

/etc $ cd ~test01/test
/home/test01/test
cd defaule
ls grub*
cd -p grub grub.bak (ori)



cd /etc
ls fstab*
sudo cp -p fstab fstab.bak
more fstab








檔案權限

(uid)	(gid)
owner	Group	Other
rwx	rwx	rwx  <--(0 or 1)
7	7	7
421=7	421=7	421=7
7	5	5
421=7	401=7	401=7
6	4	4
420=6	400=4	400=4

r 讀
w 寫
x 執行

ls -al grub

sudo vi grub
diff a檔 b檔

"net.ifnames=0 biosdevname=0"

shift + :
:x! 強制存檔
:q! 強制離開 不存
esc鍵 切換
yyp copy 一行
cw replace 取代
dd del 刪一行
i insert
x delete
a append

sudo cp -p grub.bak grub

sudo vi grub

ifconfig
sudo update-grub
sudo init 6








-----------------------
弄壞

hidden
menu

cd /etc

sudo cp -p fstab fstab.bak
sudo cp /dev/null fstab (弄壞)
more fstab
sudo init 6
--------------------------
df -k

/dev/sda1 要改 ro -> rw
mount -o

history

1. 新增 vhd
2. sudo fdisk -l /dev/sdb
3. sudo fdisk /dev/sdb
N P L W
4. sudo mkfs -t ext4 /dev/sdb1
4. sudo mkdir /home/backup
5. cd /etc
6. sudo vi fstab
7. sudo mount -a
8. init 6
9. df -k

---------------------
改密碼









-------------------

sudo tar cvf etc.tar



-------------------








test01@linux:/etc$ ls fstab*
ls -al fstab*
sudo cp /dev/null fstab
more fstab




Recovery Menu
選 root

root@linux:/etc# ls -al fstab*
id
cp -p fstab.bak fstab
df -k
mount -o remount,rw /dev/sda1 /
cp -p fstab.bak fstab
ls -al fstab*
diff fstab fstab.bak
init 6



sudo vi grub
sudo update-grub



TIMEOUT_STYLE=menu
TIMEOUT=5

test01@linux:/etc/defaults$ sudo vi grub

df -k


vb
設定
存放裝置
選到 增加的那個 vhd





-------------------

test01@linux:~$ sudo fdisk /dev/sdb1



test01@linux:~$ sudo mkfs -t ext4 /dev/sdb1


test01@linux:/etc$ sudo vi fstab
cd /home
ls -la
sudo mkdir backup
ls -la
cd /etc/
sudo vi fstab

sudo mount -a
df -k


test01@linux:/etc$ more fstab
/dev/sdb1 /home/backup ext4...(之後一樣) 

cd /etc
sudo cp -p passwd passwd.bak
sudo cp -p shadow shadow.bak
ls -la passwd*
ls -la shadow*
sudo vi passwd
sudo vi shadow
sudo su - kevin
id

sudo su -
sudo apt-get install vim
sudo apt-get install openssh-server
cat >123.txt (用 cat 建立 123.txt 的檔案)
ctrl+d (離開)


設定 root 密碼
sudo passwd root (直接修改 帳號 : root 的密碼)

(改密碼)
root@linux:/etc# id 
passwd root



/etc$ ls -la *.tar
sudo chmod 755 etc.tar
ls -la

/etc$ ls -la *.tar

sudo mv etc.tar /home/backup
cd /home/backup
ls -la
tar xvf etc.tar


ls -la *.tar

/home/backup$ ls -la

cd 0502/

ls -la

sudo tar xvf backup.tar

















建分身
udi 0 但名稱不同user
圖靈 測試 (人還是機器人)
進安全模式

rm - 刪除不詢問
rm -r : 刪除目錄內所有檔案



rm -f : 強制刪除不詢問
rm -f ：強制刪除檔案或目錄，不會有警告，請小心使用。


rm -i : 確認是否刪除
rm -d ：直接刪除目錄，目錄裡面不能有檔案或是資料夾。

rm -i ：刪除之前會詢問，如果要刪除建議使用這個參數，可以避免誤刪。




介紹 開機

-----------------------




改密碼

第二個 2:17:00

檔案系統








-----------------------
Grub開機選單
按下 Ctrl + Alt + t 開啟終端機，輸入

sudo gedit /etc/default/grub

找到

GRUB_HIDDEN_TIMEOUT=0
GRUB_HIDDEN_TIMEOUT_QUIET=true
改成

#GRUB_HIDDEN_TIMEOUT=0
#GRUB_HIDDEN_TIMEOUT_QUIET=true


此外，也可以修改grub開機選單的等待時間

GRUB_TIMEOUT=60 (單位：秒)

最後更新 grub 設定即可：

sudo update-grub


加入Windows開機選項
一般來說，安裝程式會主動偵測是否有Windows的安裝，如果因為各種因素而缺失或錯誤，請參考以下步驟：
sudo gedit /boot/grub/menu.lst

Grub 設定
移除 Recovery 模式
Grub 選項中，有 recovery 模式，讓 Ubuntu 無法正常開機時，可以透過此模式開機，不過對於管理者來說，卻是一個潛在問題。
當外來者選擇此模式開機，是無需詢問密碼就可以以 Root 身份登入主機，所以請取消此項目。

增加 Grub 密碼
對於進階使用者來說，是可以透過 Grub 進階模式，在開機時候，把 kernel 參數丟進去，例如加上 single 參數，也可以無需密碼進入系統。
所以可以請設定 Grub 密碼，在編輯 Grub 時要詢問密碼，才能編輯。另外 Grub 好處是密碼有經過 md5 編碼過。

grub-md5-crypt
將此產生的密碼加到 /boot/grub/menu.list

password --md5 [編碼過密碼] 

LILO 設定
設定 LILO 密碼
password=[明碼]
由於 LILO 密碼是名碼，請設定 /etc/lilo.conf 只讓 Root 存取。

fstab 設定
可以針對分割區增加一些限制。

suid / nosuid  : 限制 suid 程式
exec / noexec : 限制 執行程式
dev / nodev  : 限制建立 dev 檔案
例如 /tmp 限制 nosuid , noexec , nodev ，而在 fstab 設定方式為

/dev/sda5       /tmp            ext3    defaults,nosuid,noexec,nodev   0       2
設定好之後，請重開機，或者

mount -o remount /tmp
請執行 mount | grep /tmp

mount | grep /tmp
/dev/sda5 on /tmp type ext3 (rw,noexec,nosuid,nodev)
測試是否能在/tmp執行程式

cp /bin/ls /tmp/ls
/tmp/ls
-bash: /tmp/ls: Permission denied
方案 3 - CHROOT
此方案安裝會使用 chroot 指令來存取受損系統的檔案。
一旦執行了 chroot 指令，LiveCD 會將損壞系統的 / （根目錄）當作是目前自己所使用的。
在 chroot 環境中執行的指令會影響受損系統的檔案系統，而不是 LiveCD 的。
1. 開機進入 LiveCD 桌面（Ubuntu 9.10 或更新版）。注意此 LiveCD 必須要與您現在欲修復系統的版本相同 - 無論 32-bit 或是 64-bit（否則 chroot 會失敗）。
2. 開啟終端機 - 應用程式，附屬應用程式，終端機。
3. 確認您的標準系統分割區 - （選項是小寫的「L」）
sudo fdisk -l
若您不確定，執行
df -Th
找到正確的磁碟容量及 ext3 或 ext4 格式。
4. 掛載您的標準系統分割區
用正確的分割區替換：sda1, sdb5 等等。
sudo mount /dev/sdXX /mnt #範例：sudo mount /dev/sda1 /mnt
5. 若您有獨立的 /boot 分割區：
sdYY 是 /boot 分割區的位置（例如 sdb3）
sudo mount /dev/sdYY /mnt/boot
6. 掛載重要的虛擬檔案系統：
sudo mount --bind /dev /mnt/dev
sudo mount --bind /dev/pts /mnt/dev/pts
sudo mount --bind /proc /mnt/proc
sudo mount --bind /sys /mnt/sys
7. Chroot 至您的標準系統裝置：
sudo chroot /mnt
8. 若系統中沒有 /boot/grub/grub.cfg 或其內容不正確，使用以下指令重建
update-grub

Ubuntu Live USB 修復 GRUB

如果意外把系統的 GRUB 弄壞了, 可以用 Ubuntu Live CD 或 Ubuntu USB 開機修復, 以下是修復的方法:

1. 先把 Ubuntu Live CD 或 Ubuntu USB 插進系統內, 然後開機.

2. 看到 Install 畫面後, 按 “Try Ubuntu”.

3. 進入 Ubuntu 後, 按 CTRL + ALT + T 開啟終端機.

4. 用 fdisk 指令查看 Ubuntu 安裝在那一個硬碟分割區:
$ sudo fdisk -l

5. 知道 Ubuntu 安裝在那個硬碟分割區後, 先掛載那個分割區, 例如分割區是 /dev/sda1, 便執行以下指令:
$ sudo mount /dev/sda1 /mnt

6. 現在執行 grub-install 指令修復 GRUB:
$ sudo grub-install –boot-directory=/mnt/boot /dev/sda

最後移除 Ubuntu Live CD 或 Ubuntu Live USB 重新啟動系統, 便會看到 GRUB 選單.



如何改變 Ubuntu 與 Windows 雙系統的開機選單，將 Windows 10 作為 GRUB 的預設選項

在做了 Ubuntu 與 Windows 雙系統之後開機會先進入 Ubuntu 的 GRUB (開機選單)，然後再從裡面選擇要開啟 Ubuntu 或是 Windows，但預設反白的選項是 Ubuntu，換句話說如果你開了機就沒有動它會自動進入 Ubuntu 系統，錯過了開機選單就沒辦法進 Windows 了，可能大部分做雙系統的人都跟我一樣只是偶爾需要用 Ubuntu，這樣每次開機都要守在螢幕前換選項實在是很不方便，解決的辦法也很簡單，只要改變 GRUB 的預設選項就好了。
sudo cat /boot/grub/grub.cfg | grep windows
首先要先知道自己的 Windows 系統的開機名字和裝在哪個磁碟，所以打入上述指令並且複製引號內的文字供等會使用。
sudo gedit /etc/default/grub
接著用指令打開 GRUB 的設定檔，將 GRUB_DEFAULT=0 後方的數值改為剛剛複製的 Windows 開機名稱後儲存，如上圖所示。儲存過程中如果有錯誤是使用 sudo 開啟的正常現象。
sudo update-grub
sudo update-initramfs -u -k all
然後將剛剛對 GRUB 開機選單的改變寫入 Ubuntu 系統，下一次重開機時就會預設為 Windows 系統了。


這邊在提供另一個方法，就是進入 BIOS 直接改變開機順序，將第一順位改為 Windows Boot Manager，這樣做的好處是你不需要經過 Ubuntu GRUB 就可以開啟 Windows 所以速度較快，但如果往後要使用 Ubuntu 就得經過 BIOS 去改變開機順序，這個方法比較適合真的幾乎沒在用 Ubuntu 的人。


利用U盤安裝grub 引導ubuntu安裝


GRUB安裝
安裝Grub涉及三個步驟：
創建/boot/grub/grub.conf配置文件。
在/ boot / grub安裝Grub文件。
安裝Grub開機程序。

grub安裝
當可行時，安裝Grub的最簡易方法是利用grub-install這個指令。

此指令將會：

在現有分區的/ boot / grub內安裝所需文件。
在通過傳統命名方式所指定的位置安裝啟動程序。
樣例：

指令	含意
grub安裝/ dev / sda	在現有分區的/ boot / grub目錄內安裝Grub的文件。在首個碟盤的主引導記錄（MBR）內安裝啟動程序。這是安裝Grub的推薦方式。
grub安裝/ dev / sda1	在現有分區的/ boot / grub目錄內安裝Grub的文件。在首個碟盤的第一個分區內安裝啟動程序。
grub安裝/ dev / sda2	在現有分區的/ boot / grub目錄內安裝Grub的文件。在首個碟盤的第二個分區內安裝啟動程序。


Windows 10 Pro + Ubuntu 14.04.3 LTS 雙系統安裝（更新：修復 grub 教學）
Step 2
進入 BIOS 設定 Boot Mode （通常有 Leagcy 跟 UEFI 兩個選項），此處請設定為 UEFI，並且請關閉 Secure Boot。

Step 3
插入 Windows 10 安裝媒體，以其開機，執行安裝程式，此處沒有什麼需要特別注意的。把整個硬碟格式化重新分區就好，也不用特別為 Ubuntu 留空間（我這裡使用的是約 C: 250 GB, D: 750 GB），我們等一下會使用 D 槽的空間來執行 Ubuntu Installation.

Step 4 — the most important
點擊右側的 喚醒時需要密碼
進入 Windows 10，右擊右下角的電源圖示，進入 電源選項。
取消選取 開啟快速啟動（建議選項）
關閉快速啟動的原因是，快速啟動所使用的技術會影響 Grub 開機引導程式而無法進入 Ubuntu.
點擊最下方的儲存變更。


Linux 隱藏 GRUB 開機選單

GRUB 是 Linux 下十分常用的開機管理工具, 主要作用是在不同作業系統或 kernel 選擇要啟動的項目, 以下文章會介紹將 GRUB 啟動選單隱藏的方法。

要隱藏 GRUB 啟動選單, 需要編輯 GRUB 的設定檔 /etc/default/grub, 在編輯前先進行備份, 以免設定錯誤不能啟動:
$ sudo cp /etc/default/grub /etc/default/grub.bak

備份了 GRUB 設定檔案, 可以修改設定, 開啟 /etc/default/grub:
$ sudo vi /etc/default/grub

找到 GRUB_TIMEOUT 一行, 這是設定 GRUB 選單的等候時間, CentOS 的預設值 5 秒, 將這個數值改為 0; 另外加入兩行:

GRUB_HIDDEN_TIMEOUT=1
GRUB_DISABLE_OS_PROBER=true

修改後改成類似這樣:

GRUB_TIMEOUT=0
GRUB_HIDDEN_TIMEOUT=1
GRUB_DISABLE_OS_PROBER=true
GRUB_DISTRIBUTOR="$(sed 's, release .*$,,g' /etc/system-release)"
GRUB_DEFAULT=saved
GRUB_DISABLE_SUBMENU=true
GRUB_TERMINAL_OUTPUT="console"
GRUB_CMDLINE_LINUX="crashkernel=auto rd.lvm.lv=centos/root rd.lvm.lv=centos/swap rd.lvm.lv=centos/usr rhgb quiet"
GRUB_DISABLE_RECOVERY="true"


儲存檔案及離開文字編輯器。

然後需要將上面的設定更新到 GRUB:

在 RHEL, CentOS 及 Fedora 執行以下指令:
$ sudo grub2-mkconfig -o /boot/grub2/grub.cfg

在 Debian 及 Ubuntu 執行以下指令:
$ sudo update-grub

下次開機後便不會顯示 GRUB 選單, 如果需要進入 GRUB 選單, 可以按 Esc 鍵.

更改GRUB背景圖片 https://codertw.com/%E4%BC%BA%E6%9C%8D%E5%99%A8/157093/
要更改GRUB背景圖片非常簡單，只需將準備好的圖片複製到/boot/grub/路徑即可。

GRUB 僅支援 265 色 JPG/JPEG 格式圖片，所以建議大家使用 PNG 圖片。

背景圖片替換好之後記得執行sudo update-grub使之生效。


修改 Ubuntu 上 GRUB 開機設定

(1) 開一個 terminal，執行 
     
     sudo gedit /etc/default/grub

(2) 修改這一行 
     
     GRUB_DEFAULT=0           變成 
     GRUB_DEFAULT=saved

(3) 新增這一行 
     
      GRUB_SAVEDEFAULT=true

讓 GRUB 開機畫面加上背景圖片。

(4) 新增這一行
     GRUB_BACKGROUND=/usr/share/backgrounds/Morning_Dew_by_Lars_Clausen.jpg

解決有些 ASUS 筆電無法用 FN keys 調整螢幕亮度

(5) 改這一行
     
      GRUB_CMDLINE_LINUX=""         變成
      GRUB_CMDLINE_LINUX="acpi_backlight=vendor"
      
存檔，然後執行命令，更新 GRUB 設定。
     sudo update-grub 

設定解析度
grub> vbeinfo
sudo su

gedit /etc/default/grub

gksu gedit /etc/default/grub

update-grub

sudo update-grub

GRUB_GFXMODE=1280x800

```
